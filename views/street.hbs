<!--<h2 id="header">street</h2>-->

<div class="horizontal dragscroll background-container" id="mainContainer">
    <img id="low_res" style="height: 720px; z-index: 2;" src="/images/streetBackground/small.jpg"/>
    <img id="streetBackground" style="height: 720px; display: none; z-index: 1; position: absolute; top:0; left: 0;" src="/images/streetBackground/front.jpg"/>

    <div class="streetElement" style="height: 90px; width: 90px; top: 205px; left: 232px;" onmouseup="playAudio('apple.wav');" onmousedown="clearDrag();" onmousemove="setDrag();">
    </div>
    <div class="category" style="height: 170px; width: 170px; top: 150px; left: 430px;" onmouseup="selectCategory('fruit');" onmousedown="clearDrag();" onmousemove="setDrag();">
    </div>

    {{!-- Exterior 13 - 18 --}}
    <div class="streetElement" style="height: 70px; width: 71px; top: 12px; left: 15736px;" onmouseup="playAudio('if_you_could_draw_a_chalk_drawing.wav');" onmousedown="clearDrag();" onmousemove="setDrag();">
    </div>
    <div class="streetElement" style="height: 146px; width: 117px; top: 0px; left: 15974px;" onmouseup="playAudio('clown_with_balloons.wav');" onmousedown="clearDrag();" onmousemove="setDrag();">
    </div>
    <div class="streetElement" style="height: 67px; width: 62px; top: 141px; left: 15944px;" onmouseup="playAudio('this_is_not_an_invisible_dog.wav');" onmousedown="clearDrag();" onmousemove="setDrag();">
    </div>
    <div class="streetElement" style="height: 64px; width: 94px; top: 291px; left: 15966px;" onmouseup="playAudio('his_mouth_said_i_want_to_go_for_a_walk.wav');" onmousedown="clearDrag();" onmousemove="setDrag();">
    </div>
    <div class="streetElement" style="height: 246px; width: 149px; top: 111px; left: 16027px;" onmouseup="playAudio('dog_walking_a_boy.wav');" onmousedown="clearDrag();" onmousemove="setDrag();">
    </div>
    <div class="streetElement" style="height: 96px; width: 128px; top: 12px; left: 16122px;" onmouseup="playAudio('people.wav');" onmousedown="clearDrag();" onmousemove="setDrag();">
    </div>
    <div class="streetElement" style="height: 241px; width: 102px; top: 76px; left: 16186px;" onmouseup="playAudio('plumber.wav');" onmousedown="clearDrag();" onmousemove="setDrag();">
    </div>
    <div class="streetElement" style="height: 71px; width: 854px; top: 73px; left: 16288px;" onmouseup="playAudio('people.wav');" onmousedown="clearDrag();" onmousemove="setDrag();">
    </div>
    <div class="streetElement" style="height: 196px; width: 102px; top: 168px; left: 16309px;" onmouseup="playAudio('running_boy.wav');" onmousedown="clearDrag();" onmousemove="setDrag();">
    </div>
    <div class="streetElement" style="height: 192px; width: 100px; top: 143px; left: 16456px;" onmouseup="playAudio('girl_jumping_rope.wav');" onmousedown="clearDrag();" onmousemove="setDrag();">
    </div>
</div>


<!--<a href="/progress">Progress</a>-->

<script>
    $(document).ready(function() {
        window.scrollTo(0, 1);
        $('#mainContainer').scrollLeft(0);
    });

    $("#streetBackground").off().on("load", function() {
        console.log("DID THE THING");

        $("#streetBackground").css({
            "display" : "inline"
        });

        setTimeout(function () {
            $("#streetBackground").css({
                "position" : "relative"
            });
        }, 650);

        setTimeout(function () {
            $("#low_res").css({
                "display" : "none"
            });
        }, 650);

    });

    let dragging = false;
    const header = document.getElementById("header");

    function setDrag() {
        dragging = true;
        header.style.color = "green";
    }

    function clearDrag() {
        dragging = false;
        header.style.color = "red";
    }

    function playAudio(soundName) {
        if (dragging === true) {
            dragging = false;
            header.style.color = "red";
        } else {
            const audio = new Audio('/audio/street/' + soundName);
            audio.play();    
        }
    }

    function selectCategory(categoryName) {
        if (dragging === true) {
            dragging = false;
            header.style.color = "red";
        } else {
            location.href= '/category/' + categoryName;
        }   
    }
</script>